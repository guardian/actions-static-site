{
  "version": "tree-0.1",
  "tree": {
    "id": "App",
    "path": "",
    "children": {
      "Static-Site-INFRA": {
        "id": "Static-Site-INFRA",
        "path": "Static-Site-INFRA",
        "children": {
          "staticActionsstaticsiteinfra": {
            "id": "staticActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/staticActionsstaticsiteinfra",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/staticActionsstaticsiteinfra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::S3::Bucket",
                  "aws:cdk:cloudformation:props": {
                    "publicAccessBlockConfiguration": {
                      "blockPublicAcls": true,
                      "blockPublicPolicy": true,
                      "ignorePublicAcls": true,
                      "restrictPublicBuckets": true
                    },
                    "tags": [
                      {
                        "key": "App",
                        "value": "actions-static-site-infra"
                      },
                      {
                        "key": "gu:cdk:version",
                        "value": "58.0.0"
                      },
                      {
                        "key": "gu:repo",
                        "value": "guardian/actions-static-site"
                      },
                      {
                        "key": "Stack",
                        "value": "deploy"
                      },
                      {
                        "key": "Stage",
                        "value": "INFRA"
                      }
                    ],
                    "websiteConfiguration": {
                      "indexDocument": "index.html"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.CfnBucket",
                  "version": "2.136.1"
                }
              },
              "Policy": {
                "id": "Policy",
                "path": "Static-Site-INFRA/staticActionsstaticsiteinfra/Policy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "Static-Site-INFRA/staticActionsstaticsiteinfra/Policy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::S3::BucketPolicy",
                      "aws:cdk:cloudformation:props": {
                        "bucket": {
                          "Ref": "staticD8C87B36"
                        },
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": "s3:PutObject",
                              "Effect": "Allow",
                              "Principal": {
                                "AWS": "arn:aws:iam::702972749545:role/galaxies-data-refresher-lambda-role-PROD"
                              },
                              "Resource": {
                                "Fn::Join": [
                                  "",
                                  [
                                    {
                                      "Fn::GetAtt": [
                                        "staticD8C87B36",
                                        "Arn"
                                      ]
                                    },
                                    "/galaxies.gutools.co.uk/data/*"
                                  ]
                                ]
                              }
                            },
                            {
                              "Action": "s3:ListBucket",
                              "Condition": {
                                "StringLike": {
                                  "s3:prefix": [
                                    "galaxies.gutools.co.uk/data/*"
                                  ]
                                }
                              },
                              "Effect": "Allow",
                              "Principal": {
                                "AWS": "arn:aws:iam::702972749545:role/galaxies-data-refresher-lambda-role-PROD"
                              },
                              "Resource": {
                                "Fn::GetAtt": [
                                  "staticD8C87B36",
                                  "Arn"
                                ]
                              }
                            },
                            {
                              "Action": "s3:PutObject",
                              "Effect": "Allow",
                              "Principal": {
                                "AWS": [
                                  {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":iam::702972749545:root"
                                      ]
                                    ]
                                  },
                                  "arn:aws:iam::702972749545:role/galaxies-data-refresher-lambda-role-CODE"
                                ]
                              },
                              "Resource": {
                                "Fn::Join": [
                                  "",
                                  [
                                    {
                                      "Fn::GetAtt": [
                                        "staticD8C87B36",
                                        "Arn"
                                      ]
                                    },
                                    "/galaxies.code.dev-gutools.co.uk/data/*"
                                  ]
                                ]
                              }
                            },
                            {
                              "Action": "s3:ListBucket",
                              "Condition": {
                                "StringLike": {
                                  "s3:prefix": [
                                    "galaxies.code.dev-gutools.co.uk/data/*"
                                  ]
                                }
                              },
                              "Effect": "Allow",
                              "Principal": {
                                "AWS": [
                                  {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":iam::702972749545:root"
                                      ]
                                    ]
                                  },
                                  "arn:aws:iam::702972749545:role/galaxies-data-refresher-lambda-role-CODE"
                                ]
                              },
                              "Resource": {
                                "Fn::GetAtt": [
                                  "staticD8C87B36",
                                  "Arn"
                                ]
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.CfnBucketPolicy",
                      "version": "2.136.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.BucketPolicy",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_s3.Bucket",
              "version": "2.136.1"
            }
          },
          "DistributionBucketName": {
            "id": "DistributionBucketName",
            "path": "Static-Site-INFRA/DistributionBucketName",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.136.1"
            }
          },
          "AnghammaradSnsArn": {
            "id": "AnghammaradSnsArn",
            "path": "Static-Site-INFRA/AnghammaradSnsArn",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.136.1"
            }
          },
          "VpcId": {
            "id": "VpcId",
            "path": "Static-Site-INFRA/VpcId",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.136.1"
            }
          },
          "VPCActionsstaticsiteinfra": {
            "id": "VPCActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/VPCActionsstaticsiteinfra",
            "constructInfo": {
              "fqn": "aws-cdk-lib.Resource",
              "version": "2.136.1"
            }
          },
          "actions-static-site-infraPrivateSubnets": {
            "id": "actions-static-site-infraPrivateSubnets",
            "path": "Static-Site-INFRA/actions-static-site-infraPrivateSubnets",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.136.1"
            }
          },
          "subnet-#{Token[TOKEN.843]}": {
            "id": "subnet-#{Token[TOKEN.843]}",
            "path": "Static-Site-INFRA/subnet-#{Token[TOKEN.843]}",
            "constructInfo": {
              "fqn": "aws-cdk-lib.Resource",
              "version": "2.136.1"
            }
          },
          "actions-static-site-infraPublicSubnets": {
            "id": "actions-static-site-infraPublicSubnets",
            "path": "Static-Site-INFRA/actions-static-site-infraPublicSubnets",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.136.1"
            }
          },
          "subnet-#{Token[TOKEN.846]}": {
            "id": "subnet-#{Token[TOKEN.846]}",
            "path": "Static-Site-INFRA/subnet-#{Token[TOKEN.846]}",
            "constructInfo": {
              "fqn": "aws-cdk-lib.Resource",
              "version": "2.136.1"
            }
          },
          "actions-static-site-infra": {
            "id": "actions-static-site-infra",
            "path": "Static-Site-INFRA/actions-static-site-infra",
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "CertificateActionsstaticsiteinfra": {
            "id": "CertificateActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/CertificateActionsstaticsiteinfra",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/CertificateActionsstaticsiteinfra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::CertificateManager::Certificate",
                  "aws:cdk:cloudformation:props": {
                    "domainName": "static-site.gutools.co.uk",
                    "tags": [
                      {
                        "key": "App",
                        "value": "actions-static-site-infra"
                      },
                      {
                        "key": "gu:cdk:version",
                        "value": "58.0.0"
                      },
                      {
                        "key": "gu:repo",
                        "value": "guardian/actions-static-site"
                      },
                      {
                        "key": "Name",
                        "value": "Static-Site-INFRA/CertificateActionsstaticsiteinfra"
                      },
                      {
                        "key": "Stack",
                        "value": "deploy"
                      },
                      {
                        "key": "Stage",
                        "value": "INFRA"
                      }
                    ],
                    "validationMethod": "DNS"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_certificatemanager.CfnCertificate",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_certificatemanager.Certificate",
              "version": "2.136.1"
            }
          },
          "InstanceRoleActionsstaticsiteinfra": {
            "id": "InstanceRoleActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/InstanceRoleActionsstaticsiteinfra",
            "children": {
              "ImportInstanceRoleActionsstaticsiteinfra": {
                "id": "ImportInstanceRoleActionsstaticsiteinfra",
                "path": "Static-Site-INFRA/InstanceRoleActionsstaticsiteinfra/ImportInstanceRoleActionsstaticsiteinfra",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.136.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/InstanceRoleActionsstaticsiteinfra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "ec2.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "path": "/",
                    "tags": [
                      {
                        "key": "App",
                        "value": "actions-static-site-infra"
                      },
                      {
                        "key": "gu:cdk:version",
                        "value": "58.0.0"
                      },
                      {
                        "key": "gu:repo",
                        "value": "guardian/actions-static-site"
                      },
                      {
                        "key": "Stack",
                        "value": "deploy"
                      },
                      {
                        "key": "Stage",
                        "value": "INFRA"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.136.1"
                }
              },
              "DefaultPolicy": {
                "id": "DefaultPolicy",
                "path": "Static-Site-INFRA/InstanceRoleActionsstaticsiteinfra/DefaultPolicy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "Static-Site-INFRA/InstanceRoleActionsstaticsiteinfra/DefaultPolicy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                      "aws:cdk:cloudformation:props": {
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": [
                                "s3:GetObject*",
                                "s3:GetBucket*",
                                "s3:List*"
                              ],
                              "Effect": "Allow",
                              "Resource": [
                                {
                                  "Fn::GetAtt": [
                                    "staticD8C87B36",
                                    "Arn"
                                  ]
                                },
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      {
                                        "Fn::GetAtt": [
                                          "staticD8C87B36",
                                          "Arn"
                                        ]
                                      },
                                      "/*"
                                    ]
                                  ]
                                }
                              ]
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "policyName": "InstanceRoleActionsstaticsiteinfraDefaultPolicy4DA1DF9E",
                        "roles": [
                          {
                            "Ref": "InstanceRoleActionsstaticsiteinfraD51E27A3"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                      "version": "2.136.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Policy",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.136.1"
            }
          },
          "SsmSshPolicy": {
            "id": "SsmSshPolicy",
            "path": "Static-Site-INFRA/SsmSshPolicy",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/SsmSshPolicy/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                  "aws:cdk:cloudformation:props": {
                    "policyDocument": {
                      "Statement": [
                        {
                          "Action": [
                            "ec2messages:AcknowledgeMessage",
                            "ec2messages:DeleteMessage",
                            "ec2messages:FailMessage",
                            "ec2messages:GetEndpoint",
                            "ec2messages:GetMessages",
                            "ec2messages:SendReply",
                            "ssm:UpdateInstanceInformation",
                            "ssm:ListInstanceAssociations",
                            "ssm:DescribeInstanceProperties",
                            "ssm:DescribeDocumentParameters",
                            "ssmmessages:CreateControlChannel",
                            "ssmmessages:CreateDataChannel",
                            "ssmmessages:OpenControlChannel",
                            "ssmmessages:OpenDataChannel"
                          ],
                          "Effect": "Allow",
                          "Resource": "*"
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "policyName": "ssm-ssh-policy",
                    "roles": [
                      {
                        "Ref": "InstanceRoleActionsstaticsiteinfraD51E27A3"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Policy",
              "version": "2.136.1"
            }
          },
          "DescribeEC2Policy": {
            "id": "DescribeEC2Policy",
            "path": "Static-Site-INFRA/DescribeEC2Policy",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/DescribeEC2Policy/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                  "aws:cdk:cloudformation:props": {
                    "policyDocument": {
                      "Statement": [
                        {
                          "Action": [
                            "autoscaling:DescribeAutoScalingInstances",
                            "autoscaling:DescribeAutoScalingGroups",
                            "ec2:DescribeTags",
                            "ec2:DescribeInstances"
                          ],
                          "Effect": "Allow",
                          "Resource": "*"
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "policyName": "describe-ec2-policy",
                    "roles": [
                      {
                        "Ref": "InstanceRoleActionsstaticsiteinfraD51E27A3"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Policy",
              "version": "2.136.1"
            }
          },
          "LoggingStreamName": {
            "id": "LoggingStreamName",
            "path": "Static-Site-INFRA/LoggingStreamName",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.136.1"
            }
          },
          "GuLogShippingPolicy": {
            "id": "GuLogShippingPolicy",
            "path": "Static-Site-INFRA/GuLogShippingPolicy",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/GuLogShippingPolicy/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                  "aws:cdk:cloudformation:props": {
                    "policyDocument": {
                      "Statement": [
                        {
                          "Action": [
                            "kinesis:Describe*",
                            "kinesis:Put*"
                          ],
                          "Effect": "Allow",
                          "Resource": {
                            "Fn::Join": [
                              "",
                              [
                                "arn:aws:kinesis:eu-west-1:",
                                {
                                  "Ref": "AWS::AccountId"
                                },
                                ":stream/",
                                {
                                  "Ref": "LoggingStreamName"
                                }
                              ]
                            ]
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "policyName": "GuLogShippingPolicy981BFE5A",
                    "roles": [
                      {
                        "Ref": "InstanceRoleActionsstaticsiteinfraD51E27A3"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Policy",
              "version": "2.136.1"
            }
          },
          "GetDistributablePolicyActionsstaticsiteinfra": {
            "id": "GetDistributablePolicyActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/GetDistributablePolicyActionsstaticsiteinfra",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/GetDistributablePolicyActionsstaticsiteinfra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                  "aws:cdk:cloudformation:props": {
                    "policyDocument": {
                      "Statement": [
                        {
                          "Action": "s3:GetObject",
                          "Effect": "Allow",
                          "Resource": {
                            "Fn::Join": [
                              "",
                              [
                                "arn:aws:s3:::",
                                {
                                  "Ref": "DistributionBucketName"
                                },
                                "/deploy/INFRA/actions-static-site-infra/*"
                              ]
                            ]
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "policyName": "GetDistributablePolicyActionsstaticsiteinfraF2F3D400",
                    "roles": [
                      {
                        "Ref": "InstanceRoleActionsstaticsiteinfraD51E27A3"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Policy",
              "version": "2.136.1"
            }
          },
          "ParameterStoreReadActionsstaticsiteinfra": {
            "id": "ParameterStoreReadActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/ParameterStoreReadActionsstaticsiteinfra",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/ParameterStoreReadActionsstaticsiteinfra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                  "aws:cdk:cloudformation:props": {
                    "policyDocument": {
                      "Statement": [
                        {
                          "Action": "ssm:GetParametersByPath",
                          "Effect": "Allow",
                          "Resource": {
                            "Fn::Join": [
                              "",
                              [
                                "arn:aws:ssm:eu-west-1:",
                                {
                                  "Ref": "AWS::AccountId"
                                },
                                ":parameter/INFRA/deploy/actions-static-site-infra"
                              ]
                            ]
                          }
                        },
                        {
                          "Action": [
                            "ssm:GetParameters",
                            "ssm:GetParameter"
                          ],
                          "Effect": "Allow",
                          "Resource": {
                            "Fn::Join": [
                              "",
                              [
                                "arn:aws:ssm:eu-west-1:",
                                {
                                  "Ref": "AWS::AccountId"
                                },
                                ":parameter/INFRA/deploy/actions-static-site-infra/*"
                              ]
                            ]
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "policyName": "parameter-store-read-policy",
                    "roles": [
                      {
                        "Ref": "InstanceRoleActionsstaticsiteinfraD51E27A3"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Policy",
              "version": "2.136.1"
            }
          },
          "AMIActionsstaticsiteinfra": {
            "id": "AMIActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/AMIActionsstaticsiteinfra",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.136.1"
            }
          },
          "GuHttpsEgressSecurityGroupActionsstaticsiteinfra": {
            "id": "GuHttpsEgressSecurityGroupActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/GuHttpsEgressSecurityGroupActionsstaticsiteinfra",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/GuHttpsEgressSecurityGroupActionsstaticsiteinfra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::EC2::SecurityGroup",
                  "aws:cdk:cloudformation:props": {
                    "groupDescription": "Allow all outbound HTTPS traffic",
                    "securityGroupEgress": [
                      {
                        "cidrIp": "0.0.0.0/0",
                        "ipProtocol": "tcp",
                        "fromPort": 443,
                        "toPort": 443,
                        "description": "Allow all outbound HTTPS traffic"
                      }
                    ],
                    "tags": [
                      {
                        "key": "App",
                        "value": "actions-static-site-infra"
                      },
                      {
                        "key": "gu:cdk:version",
                        "value": "58.0.0"
                      },
                      {
                        "key": "gu:repo",
                        "value": "guardian/actions-static-site"
                      },
                      {
                        "key": "Stack",
                        "value": "deploy"
                      },
                      {
                        "key": "Stage",
                        "value": "INFRA"
                      }
                    ],
                    "vpcId": {
                      "Ref": "VpcId"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ec2.CfnSecurityGroup",
                  "version": "2.136.1"
                }
              },
              "from StaticSiteINFRALoadBalancerActionsstaticsiteinfraSecurityGroupD29867F4:9000": {
                "id": "from StaticSiteINFRALoadBalancerActionsstaticsiteinfraSecurityGroupD29867F4:9000",
                "path": "Static-Site-INFRA/GuHttpsEgressSecurityGroupActionsstaticsiteinfra/from StaticSiteINFRALoadBalancerActionsstaticsiteinfraSecurityGroupD29867F4:9000",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::EC2::SecurityGroupIngress",
                  "aws:cdk:cloudformation:props": {
                    "description": "Load balancer to target",
                    "fromPort": 9000,
                    "groupId": {
                      "Fn::GetAtt": [
                        "GuHttpsEgressSecurityGroupActionsstaticsiteinfra8D91B5B4",
                        "GroupId"
                      ]
                    },
                    "ipProtocol": "tcp",
                    "sourceSecurityGroupId": {
                      "Fn::GetAtt": [
                        "LoadBalancerActionsstaticsiteinfraSecurityGroupA0EF5325",
                        "GroupId"
                      ]
                    },
                    "toPort": 9000
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress",
                  "version": "2.136.1"
                }
              },
              "from StaticSiteINFRAldpaccess94C4FBAC:9000": {
                "id": "from StaticSiteINFRAldpaccess94C4FBAC:9000",
                "path": "Static-Site-INFRA/GuHttpsEgressSecurityGroupActionsstaticsiteinfra/from StaticSiteINFRAldpaccess94C4FBAC:9000",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::EC2::SecurityGroupIngress",
                  "aws:cdk:cloudformation:props": {
                    "description": "Load balancer to target",
                    "fromPort": 9000,
                    "groupId": {
                      "Fn::GetAtt": [
                        "GuHttpsEgressSecurityGroupActionsstaticsiteinfra8D91B5B4",
                        "GroupId"
                      ]
                    },
                    "ipProtocol": "tcp",
                    "sourceSecurityGroupId": {
                      "Fn::GetAtt": [
                        "ldpaccess567AC006",
                        "GroupId"
                      ]
                    },
                    "toPort": 9000
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ec2.SecurityGroup",
              "version": "2.136.1"
            }
          },
          "deploy-INFRA-actions-static-site-infra": {
            "id": "deploy-INFRA-actions-static-site-infra",
            "path": "Static-Site-INFRA/deploy-INFRA-actions-static-site-infra",
            "children": {
              "Profile": {
                "id": "Profile",
                "path": "Static-Site-INFRA/deploy-INFRA-actions-static-site-infra/Profile",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::InstanceProfile",
                  "aws:cdk:cloudformation:props": {
                    "roles": [
                      {
                        "Ref": "InstanceRoleActionsstaticsiteinfraD51E27A3"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnInstanceProfile",
                  "version": "2.136.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/deploy-INFRA-actions-static-site-infra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::EC2::LaunchTemplate",
                  "aws:cdk:cloudformation:props": {
                    "launchTemplateData": {
                      "iamInstanceProfile": {
                        "arn": {
                          "Fn::GetAtt": [
                            "deployINFRAactionsstaticsiteinfraProfileF5A0DA62",
                            "Arn"
                          ]
                        }
                      },
                      "imageId": {
                        "Ref": "AMIActionsstaticsiteinfra"
                      },
                      "instanceType": "t4g.nano",
                      "securityGroupIds": [
                        {
                          "Fn::GetAtt": [
                            "GuHttpsEgressSecurityGroupActionsstaticsiteinfra8D91B5B4",
                            "GroupId"
                          ]
                        },
                        {
                          "Fn::GetAtt": [
                            "WazuhSecurityGroup",
                            "GroupId"
                          ]
                        }
                      ],
                      "tagSpecifications": [
                        {
                          "resourceType": "instance",
                          "tags": [
                            {
                              "key": "App",
                              "value": "actions-static-site-infra"
                            },
                            {
                              "key": "gu:cdk:version",
                              "value": "58.0.0"
                            },
                            {
                              "key": "gu:repo",
                              "value": "guardian/actions-static-site"
                            },
                            {
                              "key": "Name",
                              "value": "Static-Site-INFRA/deploy-INFRA-actions-static-site-infra"
                            },
                            {
                              "key": "Stack",
                              "value": "deploy"
                            },
                            {
                              "key": "Stage",
                              "value": "INFRA"
                            }
                          ]
                        },
                        {
                          "resourceType": "volume",
                          "tags": [
                            {
                              "key": "App",
                              "value": "actions-static-site-infra"
                            },
                            {
                              "key": "gu:cdk:version",
                              "value": "58.0.0"
                            },
                            {
                              "key": "gu:repo",
                              "value": "guardian/actions-static-site"
                            },
                            {
                              "key": "Name",
                              "value": "Static-Site-INFRA/deploy-INFRA-actions-static-site-infra"
                            },
                            {
                              "key": "Stack",
                              "value": "deploy"
                            },
                            {
                              "key": "Stage",
                              "value": "INFRA"
                            }
                          ]
                        }
                      ],
                      "userData": {
                        "Fn::Base64": {
                          "Fn::Join": [
                            "",
                            [
                              "#!/bin/bash -ev\ncat << EOF > /etc/systemd/system/actions-static-site-infra.service\n[Unit]\nDescription=Static Site service\n\n[Service]\nEnvironment=\"BUCKET=",
                              {
                                "Ref": "staticD8C87B36"
                              },
                              "\"\nEnvironment=\"PORT=9000\"\nExecStart=/actions-static-site-infra\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\naws s3 cp s3://",
                              {
                                "Ref": "DistributionBucketName"
                              },
                              "/deploy/INFRA/actions-static-site-infra/static-site-service /actions-static-site-infra\nchmod +x /actions-static-site-infra\nsystemctl start actions-static-site-infra\n"
                            ]
                          ]
                        }
                      },
                      "metadataOptions": {
                        "httpTokens": "required"
                      }
                    },
                    "tagSpecifications": [
                      {
                        "resourceType": "launch-template",
                        "tags": [
                          {
                            "key": "App",
                            "value": "actions-static-site-infra"
                          },
                          {
                            "key": "gu:cdk:version",
                            "value": "58.0.0"
                          },
                          {
                            "key": "gu:repo",
                            "value": "guardian/actions-static-site"
                          },
                          {
                            "key": "Name",
                            "value": "Static-Site-INFRA/deploy-INFRA-actions-static-site-infra"
                          },
                          {
                            "key": "Stack",
                            "value": "deploy"
                          },
                          {
                            "key": "Stage",
                            "value": "INFRA"
                          }
                        ]
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ec2.CfnLaunchTemplate",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ec2.LaunchTemplate",
              "version": "2.136.1"
            }
          },
          "WazuhSecurityGroup": {
            "id": "WazuhSecurityGroup",
            "path": "Static-Site-INFRA/WazuhSecurityGroup",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/WazuhSecurityGroup/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::EC2::SecurityGroup",
                  "aws:cdk:cloudformation:props": {
                    "groupDescription": "Allow outbound traffic from wazuh agent to manager",
                    "securityGroupEgress": [
                      {
                        "cidrIp": "0.0.0.0/0",
                        "ipProtocol": "tcp",
                        "fromPort": 1514,
                        "toPort": 1514,
                        "description": "Wazuh event logging"
                      },
                      {
                        "cidrIp": "0.0.0.0/0",
                        "ipProtocol": "tcp",
                        "fromPort": 1515,
                        "toPort": 1515,
                        "description": "Wazuh agent registration"
                      }
                    ],
                    "tags": [
                      {
                        "key": "App",
                        "value": "actions-static-site-infra"
                      },
                      {
                        "key": "gu:cdk:version",
                        "value": "58.0.0"
                      },
                      {
                        "key": "gu:repo",
                        "value": "guardian/actions-static-site"
                      },
                      {
                        "key": "Stack",
                        "value": "deploy"
                      },
                      {
                        "key": "Stage",
                        "value": "INFRA"
                      }
                    ],
                    "vpcId": {
                      "Ref": "VpcId"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ec2.CfnSecurityGroup",
                  "version": "2.136.1"
                }
              },
              "from StaticSiteINFRALoadBalancerActionsstaticsiteinfraSecurityGroupD29867F4:9000": {
                "id": "from StaticSiteINFRALoadBalancerActionsstaticsiteinfraSecurityGroupD29867F4:9000",
                "path": "Static-Site-INFRA/WazuhSecurityGroup/from StaticSiteINFRALoadBalancerActionsstaticsiteinfraSecurityGroupD29867F4:9000",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::EC2::SecurityGroupIngress",
                  "aws:cdk:cloudformation:props": {
                    "description": "Load balancer to target",
                    "fromPort": 9000,
                    "groupId": {
                      "Fn::GetAtt": [
                        "WazuhSecurityGroup",
                        "GroupId"
                      ]
                    },
                    "ipProtocol": "tcp",
                    "sourceSecurityGroupId": {
                      "Fn::GetAtt": [
                        "LoadBalancerActionsstaticsiteinfraSecurityGroupA0EF5325",
                        "GroupId"
                      ]
                    },
                    "toPort": 9000
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress",
                  "version": "2.136.1"
                }
              },
              "from StaticSiteINFRAldpaccess94C4FBAC:9000": {
                "id": "from StaticSiteINFRAldpaccess94C4FBAC:9000",
                "path": "Static-Site-INFRA/WazuhSecurityGroup/from StaticSiteINFRAldpaccess94C4FBAC:9000",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::EC2::SecurityGroupIngress",
                  "aws:cdk:cloudformation:props": {
                    "description": "Load balancer to target",
                    "fromPort": 9000,
                    "groupId": {
                      "Fn::GetAtt": [
                        "WazuhSecurityGroup",
                        "GroupId"
                      ]
                    },
                    "ipProtocol": "tcp",
                    "sourceSecurityGroupId": {
                      "Fn::GetAtt": [
                        "ldpaccess567AC006",
                        "GroupId"
                      ]
                    },
                    "toPort": 9000
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ec2.SecurityGroup",
              "version": "2.136.1"
            }
          },
          "AutoScalingGroupActionsstaticsiteinfra": {
            "id": "AutoScalingGroupActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/AutoScalingGroupActionsstaticsiteinfra",
            "children": {
              "ASG": {
                "id": "ASG",
                "path": "Static-Site-INFRA/AutoScalingGroupActionsstaticsiteinfra/ASG",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::AutoScaling::AutoScalingGroup",
                  "aws:cdk:cloudformation:props": {
                    "healthCheckGracePeriod": 120,
                    "healthCheckType": "ELB",
                    "launchTemplate": {
                      "launchTemplateId": {
                        "Ref": "deployINFRAactionsstaticsiteinfraDF8767E8"
                      },
                      "version": {
                        "Fn::GetAtt": [
                          "deployINFRAactionsstaticsiteinfraDF8767E8",
                          "LatestVersionNumber"
                        ]
                      }
                    },
                    "maxSize": "2",
                    "minSize": "1",
                    "tags": [
                      {
                        "key": "App",
                        "value": "actions-static-site-infra",
                        "propagateAtLaunch": true
                      },
                      {
                        "key": "gu:cdk:version",
                        "value": "58.0.0",
                        "propagateAtLaunch": true
                      },
                      {
                        "key": "gu:repo",
                        "value": "guardian/actions-static-site",
                        "propagateAtLaunch": true
                      },
                      {
                        "key": "LogKinesisStreamName",
                        "value": {
                          "Ref": "LoggingStreamName"
                        },
                        "propagateAtLaunch": true
                      },
                      {
                        "key": "Stack",
                        "value": "deploy",
                        "propagateAtLaunch": true
                      },
                      {
                        "key": "Stage",
                        "value": "INFRA",
                        "propagateAtLaunch": true
                      },
                      {
                        "key": "SystemdUnit",
                        "value": "actions-static-site-infra.service",
                        "propagateAtLaunch": true
                      }
                    ],
                    "targetGroupArns": [
                      {
                        "Ref": "TargetGroupActionsstaticsiteinfra15D19638"
                      }
                    ],
                    "vpcZoneIdentifier": {
                      "Ref": "actionsstaticsiteinfraPrivateSubnets"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_autoscaling.CfnAutoScalingGroup",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_autoscaling.AutoScalingGroup",
              "version": "2.136.1"
            }
          },
          "LoadBalancerActionsstaticsiteinfra": {
            "id": "LoadBalancerActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/LoadBalancerActionsstaticsiteinfra",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/LoadBalancerActionsstaticsiteinfra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ElasticLoadBalancingV2::LoadBalancer",
                  "aws:cdk:cloudformation:props": {
                    "loadBalancerAttributes": [
                      {
                        "key": "deletion_protection.enabled",
                        "value": "true"
                      },
                      {
                        "key": "routing.http.x_amzn_tls_version_and_cipher_suite.enabled",
                        "value": "true"
                      },
                      {
                        "key": "routing.http.drop_invalid_header_fields.enabled",
                        "value": "true"
                      }
                    ],
                    "scheme": "internet-facing",
                    "securityGroups": [
                      {
                        "Fn::GetAtt": [
                          "LoadBalancerActionsstaticsiteinfraSecurityGroupA0EF5325",
                          "GroupId"
                        ]
                      },
                      {
                        "Fn::GetAtt": [
                          "ldpaccess567AC006",
                          "GroupId"
                        ]
                      }
                    ],
                    "subnets": {
                      "Ref": "actionsstaticsiteinfraPublicSubnets"
                    },
                    "tags": [
                      {
                        "key": "App",
                        "value": "actions-static-site-infra"
                      },
                      {
                        "key": "gu:cdk:version",
                        "value": "58.0.0"
                      },
                      {
                        "key": "gu:repo",
                        "value": "guardian/actions-static-site"
                      },
                      {
                        "key": "Stack",
                        "value": "deploy"
                      },
                      {
                        "key": "Stage",
                        "value": "INFRA"
                      }
                    ],
                    "type": "application"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer",
                  "version": "2.136.1"
                }
              },
              "SecurityGroup": {
                "id": "SecurityGroup",
                "path": "Static-Site-INFRA/LoadBalancerActionsstaticsiteinfra/SecurityGroup",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "Static-Site-INFRA/LoadBalancerActionsstaticsiteinfra/SecurityGroup/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::EC2::SecurityGroup",
                      "aws:cdk:cloudformation:props": {
                        "groupDescription": "Automatically created Security Group for ELB StaticSiteINFRALoadBalancerActionsstaticsiteinfraA0CD502C",
                        "securityGroupEgress": [
                          {
                            "cidrIp": "0.0.0.0/0",
                            "ipProtocol": "tcp",
                            "fromPort": 443,
                            "toPort": 443,
                            "description": "Allow to IdP endpoint"
                          }
                        ],
                        "securityGroupIngress": [
                          {
                            "cidrIp": "0.0.0.0/0",
                            "ipProtocol": "tcp",
                            "fromPort": 443,
                            "toPort": 443,
                            "description": "Allow from anyone on port 443"
                          }
                        ],
                        "tags": [
                          {
                            "key": "App",
                            "value": "actions-static-site-infra"
                          },
                          {
                            "key": "gu:cdk:version",
                            "value": "58.0.0"
                          },
                          {
                            "key": "gu:repo",
                            "value": "guardian/actions-static-site"
                          },
                          {
                            "key": "Stack",
                            "value": "deploy"
                          },
                          {
                            "key": "Stage",
                            "value": "INFRA"
                          }
                        ],
                        "vpcId": {
                          "Ref": "VpcId"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_ec2.CfnSecurityGroup",
                      "version": "2.136.1"
                    }
                  },
                  "to StaticSiteINFRAGuHttpsEgressSecurityGroupActionsstaticsiteinfraB063E18F:9000": {
                    "id": "to StaticSiteINFRAGuHttpsEgressSecurityGroupActionsstaticsiteinfraB063E18F:9000",
                    "path": "Static-Site-INFRA/LoadBalancerActionsstaticsiteinfra/SecurityGroup/to StaticSiteINFRAGuHttpsEgressSecurityGroupActionsstaticsiteinfraB063E18F:9000",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::EC2::SecurityGroupEgress",
                      "aws:cdk:cloudformation:props": {
                        "description": "Load balancer to target",
                        "destinationSecurityGroupId": {
                          "Fn::GetAtt": [
                            "GuHttpsEgressSecurityGroupActionsstaticsiteinfra8D91B5B4",
                            "GroupId"
                          ]
                        },
                        "fromPort": 9000,
                        "groupId": {
                          "Fn::GetAtt": [
                            "LoadBalancerActionsstaticsiteinfraSecurityGroupA0EF5325",
                            "GroupId"
                          ]
                        },
                        "ipProtocol": "tcp",
                        "toPort": 9000
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress",
                      "version": "2.136.1"
                    }
                  },
                  "to StaticSiteINFRAWazuhSecurityGroup1D5A0DEE:9000": {
                    "id": "to StaticSiteINFRAWazuhSecurityGroup1D5A0DEE:9000",
                    "path": "Static-Site-INFRA/LoadBalancerActionsstaticsiteinfra/SecurityGroup/to StaticSiteINFRAWazuhSecurityGroup1D5A0DEE:9000",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::EC2::SecurityGroupEgress",
                      "aws:cdk:cloudformation:props": {
                        "description": "Load balancer to target",
                        "destinationSecurityGroupId": {
                          "Fn::GetAtt": [
                            "WazuhSecurityGroup",
                            "GroupId"
                          ]
                        },
                        "fromPort": 9000,
                        "groupId": {
                          "Fn::GetAtt": [
                            "LoadBalancerActionsstaticsiteinfraSecurityGroupA0EF5325",
                            "GroupId"
                          ]
                        },
                        "ipProtocol": "tcp",
                        "toPort": 9000
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress",
                      "version": "2.136.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ec2.SecurityGroup",
                  "version": "2.136.1"
                }
              },
              "LoadBalancerActionsstaticsiteinfra-DnsName": {
                "id": "LoadBalancerActionsstaticsiteinfra-DnsName",
                "path": "Static-Site-INFRA/LoadBalancerActionsstaticsiteinfra/LoadBalancerActionsstaticsiteinfra-DnsName",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnOutput",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer",
              "version": "2.136.1"
            }
          },
          "TargetGroupActionsstaticsiteinfra": {
            "id": "TargetGroupActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/TargetGroupActionsstaticsiteinfra",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/TargetGroupActionsstaticsiteinfra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ElasticLoadBalancingV2::TargetGroup",
                  "aws:cdk:cloudformation:props": {
                    "healthCheckIntervalSeconds": 10,
                    "healthCheckPath": "/healthcheck",
                    "healthCheckProtocol": "HTTP",
                    "healthCheckTimeoutSeconds": 5,
                    "healthyThresholdCount": 5,
                    "port": 9000,
                    "protocol": "HTTP",
                    "tags": [
                      {
                        "key": "App",
                        "value": "actions-static-site-infra"
                      },
                      {
                        "key": "gu:cdk:version",
                        "value": "58.0.0"
                      },
                      {
                        "key": "gu:repo",
                        "value": "guardian/actions-static-site"
                      },
                      {
                        "key": "Stack",
                        "value": "deploy"
                      },
                      {
                        "key": "Stage",
                        "value": "INFRA"
                      }
                    ],
                    "targetGroupAttributes": [
                      {
                        "key": "deregistration_delay.timeout_seconds",
                        "value": "30"
                      },
                      {
                        "key": "stickiness.enabled",
                        "value": "false"
                      }
                    ],
                    "targetType": "instance",
                    "unhealthyThresholdCount": 2,
                    "vpcId": {
                      "Ref": "VpcId"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup",
              "version": "2.136.1"
            }
          },
          "ListenerActionsstaticsiteinfra": {
            "id": "ListenerActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/ListenerActionsstaticsiteinfra",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/ListenerActionsstaticsiteinfra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ElasticLoadBalancingV2::Listener",
                  "aws:cdk:cloudformation:props": {
                    "certificates": [
                      {
                        "certificateArn": {
                          "Ref": "CertificateActionsstaticsiteinfraCE4B6BA6"
                        }
                      }
                    ],
                    "defaultActions": [
                      {
                        "type": "authenticate-oidc",
                        "authenticateOidcConfig": {
                          "authorizationEndpoint": "https://accounts.google.com/o/oauth2/v2/auth",
                          "clientId": {
                            "Ref": "clientIDParameter"
                          },
                          "clientSecret": "{{resolve:secretsmanager:/INFRA/deploy/actions-static-site-infra/clientSecret:SecretString:::}}",
                          "issuer": "https://accounts.google.com",
                          "tokenEndpoint": "https://oauth2.googleapis.com/token",
                          "userInfoEndpoint": "https://openidconnect.googleapis.com/v1/userinfo",
                          "authenticationRequestExtraParams": {
                            "hd": "guardian.co.uk"
                          },
                          "scope": "openid email"
                        },
                        "order": 1
                      },
                      {
                        "type": "forward",
                        "targetGroupArn": {
                          "Ref": "TargetGroupActionsstaticsiteinfra15D19638"
                        },
                        "order": 2
                      }
                    ],
                    "loadBalancerArn": {
                      "Ref": "LoadBalancerActionsstaticsiteinfra153C4C62"
                    },
                    "port": 443,
                    "protocol": "HTTPS"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener",
                  "version": "2.136.1"
                }
              },
              "PRoutRule": {
                "id": "PRoutRule",
                "path": "Static-Site-INFRA/ListenerActionsstaticsiteinfra/PRoutRule",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "Static-Site-INFRA/ListenerActionsstaticsiteinfra/PRoutRule/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::ElasticLoadBalancingV2::ListenerRule",
                      "aws:cdk:cloudformation:props": {
                        "actions": [
                          {
                            "type": "forward",
                            "targetGroupArn": {
                              "Ref": "TargetGroupActionsstaticsiteinfra15D19638"
                            }
                          }
                        ],
                        "conditions": [
                          {
                            "field": "path-pattern",
                            "pathPatternConfig": {
                              "values": [
                                "**/_prout"
                              ]
                            }
                          }
                        ],
                        "listenerArn": {
                          "Ref": "ListenerActionsstaticsiteinfraB38E4E8D"
                        },
                        "priority": 1
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_elasticloadbalancingv2.CfnListenerRule",
                      "version": "2.136.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListenerRule",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener",
              "version": "2.136.1"
            }
          },
          "High5xxPercentageAlarmActionsstaticsiteinfra": {
            "id": "High5xxPercentageAlarmActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/High5xxPercentageAlarmActionsstaticsiteinfra",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/High5xxPercentageAlarmActionsstaticsiteinfra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::CloudWatch::Alarm",
                  "aws:cdk:cloudformation:props": {
                    "actionsEnabled": true,
                    "alarmActions": [
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:aws:sns:eu-west-1:",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "AnghammaradSnsArn"
                            }
                          ]
                        ]
                      }
                    ],
                    "alarmDescription": "actions-static-site-infra exceeded 1% error rate",
                    "alarmName": "High 5XX error percentage from actions-static-site-infra in INFRA",
                    "comparisonOperator": "GreaterThanThreshold",
                    "evaluationPeriods": 60,
                    "metrics": [
                      {
                        "expression": "100*(m1+m2)/m3",
                        "id": "expr_1",
                        "label": "% of 5XX responses served for actions-static-site-infra (load balancer and instances combined)"
                      },
                      {
                        "metricStat": {
                          "metric": {
                            "metricName": "HTTPCode_ELB_5XX_Count",
                            "namespace": "AWS/ApplicationELB",
                            "dimensions": [
                              {
                                "name": "LoadBalancer",
                                "value": {
                                  "Fn::GetAtt": [
                                    "LoadBalancerActionsstaticsiteinfra153C4C62",
                                    "LoadBalancerFullName"
                                  ]
                                }
                              }
                            ]
                          },
                          "period": 60,
                          "stat": "Sum"
                        },
                        "id": "m1",
                        "returnData": false
                      },
                      {
                        "metricStat": {
                          "metric": {
                            "metricName": "HTTPCode_Target_5XX_Count",
                            "namespace": "AWS/ApplicationELB",
                            "dimensions": [
                              {
                                "name": "LoadBalancer",
                                "value": {
                                  "Fn::GetAtt": [
                                    "LoadBalancerActionsstaticsiteinfra153C4C62",
                                    "LoadBalancerFullName"
                                  ]
                                }
                              }
                            ]
                          },
                          "period": 60,
                          "stat": "Sum"
                        },
                        "id": "m2",
                        "returnData": false
                      },
                      {
                        "metricStat": {
                          "metric": {
                            "metricName": "RequestCount",
                            "namespace": "AWS/ApplicationELB",
                            "dimensions": [
                              {
                                "name": "LoadBalancer",
                                "value": {
                                  "Fn::GetAtt": [
                                    "LoadBalancerActionsstaticsiteinfra153C4C62",
                                    "LoadBalancerFullName"
                                  ]
                                }
                              }
                            ]
                          },
                          "period": 60,
                          "stat": "Sum"
                        },
                        "id": "m3",
                        "returnData": false
                      }
                    ],
                    "threshold": 1,
                    "treatMissingData": "notBreaching"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudwatch.CfnAlarm",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cloudwatch.Alarm",
              "version": "2.136.1"
            }
          },
          "SnsTopicForHigh5xxPercentageAlarmActionsstaticsiteinfra": {
            "id": "SnsTopicForHigh5xxPercentageAlarmActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/SnsTopicForHigh5xxPercentageAlarmActionsstaticsiteinfra",
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_sns.TopicBase",
              "version": "2.136.1"
            }
          },
          "UnhealthyInstancesAlarmActionsstaticsiteinfra": {
            "id": "UnhealthyInstancesAlarmActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/UnhealthyInstancesAlarmActionsstaticsiteinfra",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/UnhealthyInstancesAlarmActionsstaticsiteinfra/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::CloudWatch::Alarm",
                  "aws:cdk:cloudformation:props": {
                    "actionsEnabled": true,
                    "alarmActions": [
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:aws:sns:eu-west-1:",
                            {
                              "Ref": "AWS::AccountId"
                            },
                            ":",
                            {
                              "Ref": "AnghammaradSnsArn"
                            }
                          ]
                        ]
                      }
                    ],
                    "alarmDescription": "actions-static-site-infra's instances have failed healthchecks several times over the last 1 hour.\n      This typically results in the AutoScaling Group cycling instances and can lead to problems with deployment,\n      scaling or handling traffic spikes.\n\n      Check actions-static-site-infra's application logs or ssh onto an unhealthy instance in order to debug these problems.",
                    "alarmName": "Unhealthy instances for actions-static-site-infra in INFRA",
                    "comparisonOperator": "GreaterThanOrEqualToThreshold",
                    "datapointsToAlarm": 30,
                    "dimensions": [
                      {
                        "name": "LoadBalancer",
                        "value": {
                          "Fn::Join": [
                            "",
                            [
                              {
                                "Fn::Select": [
                                  1,
                                  {
                                    "Fn::Split": [
                                      "/",
                                      {
                                        "Ref": "ListenerActionsstaticsiteinfraB38E4E8D"
                                      }
                                    ]
                                  }
                                ]
                              },
                              "/",
                              {
                                "Fn::Select": [
                                  2,
                                  {
                                    "Fn::Split": [
                                      "/",
                                      {
                                        "Ref": "ListenerActionsstaticsiteinfraB38E4E8D"
                                      }
                                    ]
                                  }
                                ]
                              },
                              "/",
                              {
                                "Fn::Select": [
                                  3,
                                  {
                                    "Fn::Split": [
                                      "/",
                                      {
                                        "Ref": "ListenerActionsstaticsiteinfraB38E4E8D"
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          ]
                        }
                      },
                      {
                        "name": "TargetGroup",
                        "value": {
                          "Fn::GetAtt": [
                            "TargetGroupActionsstaticsiteinfra15D19638",
                            "TargetGroupFullName"
                          ]
                        }
                      }
                    ],
                    "evaluationPeriods": 60,
                    "metricName": "UnHealthyHostCount",
                    "namespace": "AWS/ApplicationELB",
                    "period": 60,
                    "statistic": "Maximum",
                    "threshold": 1,
                    "treatMissingData": "notBreaching"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cloudwatch.CfnAlarm",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cloudwatch.Alarm",
              "version": "2.136.1"
            }
          },
          "SnsTopicForUnhealthyInstancesAlarmActionsstaticsiteinfra": {
            "id": "SnsTopicForUnhealthyInstancesAlarmActionsstaticsiteinfra",
            "path": "Static-Site-INFRA/SnsTopicForUnhealthyInstancesAlarmActionsstaticsiteinfra",
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_sns.TopicBase",
              "version": "2.136.1"
            }
          },
          "vpc": {
            "id": "vpc",
            "path": "Static-Site-INFRA/vpc",
            "constructInfo": {
              "fqn": "aws-cdk-lib.Resource",
              "version": "2.136.1"
            }
          },
          "ldp-access": {
            "id": "ldp-access",
            "path": "Static-Site-INFRA/ldp-access",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/ldp-access/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::EC2::SecurityGroup",
                  "aws:cdk:cloudformation:props": {
                    "groupDescription": "Static-Site-INFRA/ldp-access",
                    "securityGroupEgress": [
                      {
                        "cidrIp": "0.0.0.0/0",
                        "description": "Allow all outbound traffic by default",
                        "ipProtocol": "-1"
                      }
                    ],
                    "tags": [
                      {
                        "key": "App",
                        "value": "actions-static-site-infra"
                      },
                      {
                        "key": "gu:cdk:version",
                        "value": "58.0.0"
                      },
                      {
                        "key": "gu:repo",
                        "value": "guardian/actions-static-site"
                      },
                      {
                        "key": "Stack",
                        "value": "deploy"
                      },
                      {
                        "key": "Stage",
                        "value": "INFRA"
                      }
                    ],
                    "vpcId": {
                      "Ref": "VpcId"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ec2.CfnSecurityGroup",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ec2.SecurityGroup",
              "version": "2.136.1"
            }
          },
          "clientID.Parameter": {
            "id": "clientID.Parameter",
            "path": "Static-Site-INFRA/clientID.Parameter",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.136.1"
            }
          },
          "clientID": {
            "id": "clientID",
            "path": "Static-Site-INFRA/clientID",
            "constructInfo": {
              "fqn": "aws-cdk-lib.Resource",
              "version": "2.136.1"
            }
          },
          "static-site.gutools.co.uk-DnsRecordSet": {
            "id": "static-site.gutools.co.uk-DnsRecordSet",
            "path": "Static-Site-INFRA/static-site.gutools.co.uk-DnsRecordSet",
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "DNS": {
            "id": "DNS",
            "path": "Static-Site-INFRA/DNS",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnResource",
              "version": "2.136.1"
            }
          },
          "static-site-bucket": {
            "id": "static-site-bucket",
            "path": "Static-Site-INFRA/static-site-bucket",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/static-site-bucket/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "description": "Bucket for static sites.",
                    "name": "/INFRA/deploy/actions-static-site-infra/bucket",
                    "tags": {
                      "App": "actions-static-site-infra",
                      "gu:cdk:version": "58.0.0",
                      "gu:repo": "guardian/actions-static-site",
                      "Stack": "deploy",
                      "Stage": "INFRA"
                    },
                    "type": "String",
                    "value": {
                      "Ref": "staticD8C87B36"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.136.1"
            }
          },
          "static-site-alb-dns-name": {
            "id": "static-site-alb-dns-name",
            "path": "Static-Site-INFRA/static-site-alb-dns-name",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/static-site-alb-dns-name/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "description": "ALB DNS name for static sites.",
                    "name": "/INFRA/deploy/actions-static-site-infra/loadBalancerDnsName",
                    "tags": {
                      "App": "actions-static-site-infra",
                      "gu:cdk:version": "58.0.0",
                      "gu:repo": "guardian/actions-static-site",
                      "Stack": "deploy",
                      "Stage": "INFRA"
                    },
                    "type": "String",
                    "value": {
                      "Fn::GetAtt": [
                        "LoadBalancerActionsstaticsiteinfra153C4C62",
                        "DNSName"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.136.1"
            }
          },
          "static-site-lisener-arn": {
            "id": "static-site-lisener-arn",
            "path": "Static-Site-INFRA/static-site-lisener-arn",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "Static-Site-INFRA/static-site-lisener-arn/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SSM::Parameter",
                  "aws:cdk:cloudformation:props": {
                    "description": "Listener ARN for static sites.",
                    "name": "/INFRA/deploy/actions-static-site-infra/listenerArn",
                    "tags": {
                      "App": "actions-static-site-infra",
                      "gu:cdk:version": "58.0.0",
                      "gu:repo": "guardian/actions-static-site",
                      "Stack": "deploy",
                      "Stage": "INFRA"
                    },
                    "type": "String",
                    "value": {
                      "Ref": "ListenerActionsstaticsiteinfraB38E4E8D"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_ssm.CfnParameter",
                  "version": "2.136.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_ssm.StringParameter",
              "version": "2.136.1"
            }
          }
        },
        "constructInfo": {
          "fqn": "aws-cdk-lib.Stack",
          "version": "2.136.1"
        }
      },
      "Tree": {
        "id": "Tree",
        "path": "Tree",
        "constructInfo": {
          "fqn": "constructs.Construct",
          "version": "10.3.0"
        }
      }
    },
    "constructInfo": {
      "fqn": "aws-cdk-lib.App",
      "version": "2.136.1"
    }
  }
}